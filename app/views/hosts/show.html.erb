<h1>Host &raquo;<%=h @host.name %>&laquo;</h1>
<%= link_to "Sensor conditions", :controller => "sensorconditions", :action => "change", :id => @host.id %>

<% if @host.outdated? %>
	<div class="instantstate-error">
		<%= showIcon "error", "float: left; margin-right: 3px;" %>
		This host did not send any sensor data in the last two minutes!
	</div>
<% else %>
  <% if @host.has_sensor_warnings? %>
		<div class="instantstate-warn">
			<%= showIcon "warning", "float: left; margin-right: 3px;" %>
      The host is sending sensor data bus some sensors are out of the defined levels.
		</div>
  <% else %>
		<div class="instantstate-okay">
			<%= showIcon "okay", "float: left; margin-right: 3px;" %>
      The host is sending sensor data and the sensors report no problems.
		</div>
  <% end %>
<% end %>

<table id="hosts-host-sensors">
  <tr class="<%= getSensorStateColumnColor @sensors, "cpu1", @sensors["cpu1"] %>">
    <td class="hosts-host-sensors-title">CPU load average last minute</td>
    <td><%= @sensors["cpu1"] %></td>
  </tr>
  <tr class="<%= getSensorStateColumnColor @sensors, "cpu5", @sensors["cpu5"] %>">
    <td class="hosts-host-sensors-title">CPU load average last 5 minutes</td>
    <td><%= @sensors["cpu5"] %></td>
  </tr>
  <tr class="<%= getSensorStateColumnColor @sensors, "cpu15", @sensors["cpu15"] %>">
    <td class="hosts-host-sensors-title">CPU load average last 15 minutes</td>
    <td><%= @sensors["cpu15"] %></td>
  </tr>
  <tr class="<%= getSensorStateColumnColor @sensors, "fm", @sensors["fm"] %>">
    <td class="hosts-host-sensors-title">Free memory</td>
    <td><%= @sensors["fm"] %> kB</td>
  </tr>
  <tr class="<%= getSensorStateColumnColor @sensors, "fs", @sensors["fs"] %>">
    <td class="hosts-host-sensors-title">Free swap space</td>
    <td><%= @sensors["fs"] %> kB</td>
  </tr>
  <tr class="<%= getSensorStateColumnColor @sensors, "fi", @sensors["fi"] %>">
    <td class="hosts-host-sensors-title">Free inodes</td>
    <td><%= @sensors["fi"] %></td>
  </tr>
  <tr class="<%= getSensorStateColumnColor @sensors, "of", @sensors["of"] %>">
    <td class="hosts-host-sensors-title">Number of currently opened files</td>
    <td><%= @sensors["of"] %></td>
  </tr>
  <tr class="<%= getSensorStateColumnColor @sensors, "rp", @sensors["rp"] %>">
    <td class="hosts-host-sensors-title">Number of currently running processes</td>
    <td><%= @sensors["rp"] %></td>
  </tr>
  <tr class="<%= getSensorStateColumnColor @sensors, "tp", @sensors["tp"] %>">
    <td class="hosts-host-sensors-title">Total number of processes</td>
    <td><%= @sensors["tp"] %></td>
  </tr>
</table>
